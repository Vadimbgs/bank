INSERT INTO Credits (credit_id, client_id, card_id, product_name, issue_date, due_date, monthly_rate, monthly_payment, total_amount) VALUES
(1,  1, 1, 'Смартфон Samsung Galaxy', '2024-01-15', '2025-01-15', 2.50, 5200.00, 62400.00),
(2,  2, 2, 'Ноутбук Lenovo IdeaPad',   '2024-02-10', '2025-02-10', 2.80, 6700.00, 80400.00),
(3,  3, 3, 'Холодильник LG',          '2024-03-05', '2026-03-05', 3.10, 4500.00,108000.00),
(4,  4, 4, 'Стиральная машина Bosch', '2024-04-01', '2026-04-01', 2.90, 3900.00, 93600.00),
(5,  5, 5, 'Телевизор Sony 55"',      '2024-05-20', '2025-05-20', 2.70, 5800.00, 69600.00),
(6,  6, 6, 'Игровая приставка PS5',   '2024-06-12', '2025-06-12', 3.20, 3100.00, 37200.00),
(7,  7, 7, 'Автомобильное кресло',    '2024-07-08', '2026-07-08', 2.40, 2200.00, 52800.00),
(8,  8, 8, 'Микроволновка Panasonic', '2024-08-03', '2025-08-03', 3.00, 1500.00, 18000.00),
(9,  9, 9, 'Кофемашина Philips',      '2024-09-18', '2026-09-18', 2.60, 2500.00, 60000.00),
(10,10,10,'Велосипед Trek',           '2024-10-10', '2025-10-10', 2.50, 2800.00, 33600.00),
(11, 3, 4,'Apple iPhone 15',          '2024-11-01', '2026-11-01', 3.30, 7200.00,172800.00),
(12, 2, 5,'Пылесос Dyson',            '2024-12-05', '2026-12-05', 2.90, 2600.00, 62400.00),
(13, 7, 6,'Диван IKEA',               '2025-01-14', '2027-01-14', 2.70, 3400.00, 81600.00),
(14, 8, 2,'Кухонный комбайн Bosch',   '2025-02-22', '2026-02-22', 3.10, 2000.00, 24000.00),
(15, 5, 9,'Электросамокат Xiaomi',    '2025-03-30', '2026-03-30', 2.80, 2700.00, 32400.00);

SELECT * FROM deposits


INSERT INTO Transfers (transfer_id, sender_card_id, receiver_card_id, amount, transfer_date, status) VALUES
(1,  1,  2,  1500.00, '2025-01-05 10:15:00', 'Выполнен'),
(2,  2,  3,  3200.50, '2025-01-07 14:22:00', 'Выполнен'),
(3,  3,  5, 12500.00, '2025-01-09 09:40:00', 'Выполнен'),
(4,  4,  6,  9800.75, '2025-01-11 16:05:00', 'Выполнен'),
(5,  5,  7, 22000.00, '2025-01-13 11:30:00', 'Выполнен'),
(6,  6,  8,  5400.00, '2025-01-15 18:20:00', 'Выполнен'),
(7,  7,  9,  8700.50, '2025-01-17 12:55:00', 'Выполнен'),
(8,  8, 10, 30500.00, '2025-01-20 09:10:00', 'Выполнен'),
(9,  9,  1,  4600.00, '2025-01-22 15:45:00', 'Выполнен'),
(10,10,  4,  7200.25, '2025-01-25 20:05:00', 'Выполнен'),
(11, 3,  2, 15800.00, '2025-01-28 08:45:00', 'Выполнен'),
(12, 5,  6,  9200.50, '2025-01-30 19:30:00', 'Выполнен'),
(13, 7,  8, 41500.00, '2025-02-02 13:15:00', 'Выполнен'),
(14, 2,  9,  5800.00, '2025-02-04 17:40:00', 'Выполнен'),
(15, 4, 10, 12500.00, '2025-02-06 21:00:00', 'Выполнен');


-- Меняем статусы на "В процессе"
UPDATE Transfers SET status = 'В процессе' WHERE transfer_id IN (3, 7, 12);

-- Меняем статусы на "Невыполнен"
UPDATE Transfers SET status = 'Невыполнен' WHERE transfer_id IN (5, 9, 14);


-- Создаем временный последовательный ряд id
WITH ordered AS (
    SELECT transfer_id, ROW_NUMBER() OVER (ORDER BY transfer_id) AS new_id
    FROM Transfers
)
-- Обновляем id в таблице
UPDATE Transfers t
SET transfer_id = o.new_id
FROM ordered o
WHERE t.transfer_id = o.transfer_id;



INSERT INTO Deposits (deposit_id, client_id, card_id, deposit_type, amount, interest_rate, start_date, end_date) VALUES
(1,  1,  1, 'Срочный',          150000.00, 5.20, '2024-01-15', '2025-01-15'),
(2,  2,  2, 'До востребования',  30000.00, 2.50, '2024-02-01', '2099-12-31'),
(3,  3,  3, 'Накопительный',     75000.00, 6.80, '2024-03-10', '2026-03-10'),
(4,  4,  4, 'Срочный',          200000.00, 4.70, '2024-04-05', '2025-10-05'),
(5,  5,  5, 'До востребования',  12000.00, 3.00, '2024-05-01', '2099-12-31'),
(6,  6,  6, 'Накопительный',    180000.00, 7.20, '2024-06-12', '2027-06-12'),
(7,  7,  7, 'Срочный',           95000.00, 4.90, '2024-07-01', '2025-07-01'),
(8,  8,  8, 'До востребования',  50000.00, 2.80, '2024-08-15', '2099-12-31'),
(9,  9,  9, 'Накопительный',    250000.00, 8.00, '2024-09-20', '2027-09-20'),
(10,10, 10,'Срочный',           300000.00, 5.50, '2024-10-05', '2026-10-05'),
(11, 3,  4, 'До востребования',  18000.00, 2.70, '2024-11-11', '2099-12-31'),
(12, 5,  6, 'Накопительный',    120000.00, 6.20, '2024-12-20', '2026-12-20'),
(13, 7,  8, 'Срочный',           40000.00, 3.90, '2025-01-10', '2026-01-10'),
(14, 8,  2, 'До востребования',  22000.00, 2.90, '2025-02-14', '2099-12-31'),
(15, 9,  5, 'Накопительный',    500000.00, 8.50, '2025-03-01', '2028-03-01');



